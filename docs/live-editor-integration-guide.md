# دليل تكامل Live Editor مع الداشبورد

## نظرة عامة

تم دمج مشروع Live Editor بنجاح في الداشبورد الأساسي، مما يوفر محرر مباشر لبناء وتصميم المواقع.

## الميزات المدمجة

### 1. محرر الموقع المباشر

- واجهة سحب وإفلات للمكونات
- تحرير مباشر للمحتوى
- معاينة فورية للتغييرات
- حفظ تلقائي للتصميمات

### 2. مكونات متاحة

- **Hero Sections:** أقسام البطل الرئيسية
- **Headers:** رؤوس الصفحات
- **Footers:** تذييلات الصفحات
- **Content Sections:** أقسام المحتوى
- **Property Components:** مكونات العقارات
- **Contact Forms:** نماذج التواصل

### 3. إدارة المستأجرين (Multi-tenant)

- دعم متعدد المستأجرين
- إعدادات منفصلة لكل مستأجر
- تخصيص الألوان والخطوط
- إدارة المحتوى المستقل

## البنية التقنية

### الملفات الرئيسية

```
app/live-editor/page.tsx              # صفحة Live Editor
components/live-editor/LiveEditorPage.tsx  # مكون الصفحة الرئيسي
context/StoreWithLiveEditor.js        # Context موحد
context-liveeditor/                    # Context stores للـ Live Editor
services-liveeditor/                   # خدمات Live Editor
lib-liveeditor/                       # مكتبات مساعدة
```

### API Endpoints

```
pages/api/tenant/
├── components.js          # إدارة المكونات
├── getTenant.js          # الحصول على بيانات المستأجر
├── save-pages.js         # حفظ الصفحات
└── component-variants.js # متغيرات المكونات
```

## كيفية الاستخدام

### 1. الوصول للـ Live Editor

- انتقل إلى `/live-editor` في المتصفح
- أو اضغط على "Live Editor" في الشريط الجانبي

### 2. إنشاء صفحة جديدة

1. اختر نوع الصفحة (Homepage, About, Contact, etc.)
2. ابدأ بإضافة المكونات من الشريط الجانبي
3. اسحب وأفلت المكونات في المنطقة الرئيسية
4. اضبط الإعدادات من لوحة التحكم

### 3. تخصيص المكونات

- انقر على أي مكون لتعديله
- استخدم لوحة الخصائص لتغيير النصوص والألوان
- احفظ التغييرات تلقائياً

### 4. إدارة المستأجرين

- إعدادات عامة للموقع
- تخصيص الألوان والخطوط
- إدارة معلومات التواصل
- إعدادات وسائل التواصل الاجتماعي

## التكوين

### متغيرات البيئة المطلوبة

```env
MONGODB_URI=your_mongodb_connection_string
NEXTAUTH_SECRET=your_nextauth_secret
NEXTAUTH_URL=your_app_url
```

### إعدادات قاعدة البيانات

- MongoDB مع Mongoose
- نماذج المستخدمين والمكونات
- فهرسة محسنة للاستعلامات

## الأمان

### المصادقة

- NextAuth.js للمصادقة
- جلسات آمنة
- حماية المسارات

### صلاحيات المستخدمين

- مستويات صلاحيات مختلفة
- وصول محدود حسب الدور
- حماية البيانات الحساسة

## الأداء

### تحسينات التحميل

- Lazy loading للمكونات
- تحسين الصور
- ضغط الأصول

### التخزين المؤقت

- تخزين مؤقت للمكونات
- تحسين الاستعلامات
- ضغط البيانات

## استكشاف الأخطاء

### مشاكل شائعة

1. **خطأ في تحميل المكونات**
   - تحقق من مسارات الاستيراد
   - تأكد من وجود الملفات المطلوبة

2. **مشاكل في قاعدة البيانات**
   - تحقق من اتصال MongoDB
   - تأكد من صحة متغيرات البيئة

3. **مشاكل في المصادقة**
   - تحقق من إعدادات NextAuth
   - تأكد من صحة الجلسات

### سجلات الأخطاء

- فحص console في المتصفح
- مراجعة سجلات الخادم
- استخدام أدوات التطوير

## التطوير المستقبلي

### ميزات مخططة

- مكونات إضافية
- قوالب جاهزة
- تصدير الكود
- تحسينات الأداء

### مساهمة المطورين

- اتباع معايير الكود
- كتابة اختبارات
- توثيق التغييرات
- مراجعة الكود

## الدعم

### الموارد

- [دليل المطور](developer-guide.md)
- [مرجع API](api-reference.md)
- [أمثلة الكود](code-examples.md)

### التواصل

- تقرير الأخطاء عبر GitHub Issues
- طلب الميزات عبر Feature Requests
- مناقشات عامة في Discussions

---

**تاريخ الإنشاء:** ${new Date().toLocaleDateString('ar-SA')}
**الإصدار:** 1.0.0
**المطور:** فريق التطوير
