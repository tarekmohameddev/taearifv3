# ๐ง ุฎุทุฉ ุงูุฅุตูุงุญ ุงูุชูุตูููุฉ ูุฃุฎุทุงุก ANALYTICS_DOCUMENTATION.json

## ุชุงุฑูุฎ ุงูุฅุนุฏุงุฏ: 25 ุฃูุชูุจุฑ 2025

---

## ๐ ููุฑุณ ุงูุฅุตูุงุญุงุช

1. [ุงูุฅุตูุงุญ #1: ุชูุญูุฏ Domain ุงูุฅูุชุงุฌ](#ุงูุฅุตูุงุญ-1-ุชูุญูุฏ-domain-ุงูุฅูุชุงุฌ)
2. [ุงูุฅุตูุงุญ #2: ุชูุญูุฏ GTM Container ID](#ุงูุฅุตูุงุญ-2-ุชูุญูุฏ-gtm-container-id)
3. [ุงูุฅุตูุงุญ #3: ุฅุฒุงูุฉ GTM ูู Tenant Pages](#ุงูุฅุตูุงุญ-3-ุฅุฒุงูุฉ-gtm-ูู-tenant-pages)
4. [ุงูุฅุตูุงุญ #4: ุฌุนู Cookie Domain ุฏููุงูููู](#ุงูุฅุตูุงุญ-4-ุฌุนู-cookie-domain-ุฏููุงูููู)
5. [ุฅุตูุงุญุงุช ุฅุถุงููุฉ](#ุฅุตูุงุญุงุช-ุฅุถุงููุฉ)

---

## ุงูุฅุตูุงุญ #1: ุชูุญูุฏ Domain ุงูุฅูุชุงุฌ

### ๐ฏ ุงููุฏู
ุชูุญูุฏ Domain ุงูุฅูุชุงุฌ ูู ุฌููุน ุงููููุงุช (ุฅูุง `mandhoor.com` ุฃู `taearif.com`)

### ๐ ุงูุฃููููุฉ
โ๏ธโ๏ธโ๏ธ **ุญุฑุฌุฉ - ููุฑูุฉ**

### ๐ ุงููููุงุช ุงููุชุฃุซุฑุฉ
1. `docs/ANALYTICS_DOCUMENTATION.json`
2. `lib/ga4-tracking.ts`
3. `components/GA4Provider.tsx`
4. `middleware.ts`
5. `env.txt`

### ๐ ุงูุญุงูุฉ ุงูุญุงููุฉ

**ุงูุชูุซูู ูุฐูุฑ:**
- `mandhoor.com` ูู 28+ ููุถุน

**ุงูููุฏ ุงููุนูู ูุณุชุฎุฏู:**
- `taearif.com` ูู env ู ุฌููุน ุงููููุงุช

### โ ุฎุทูุงุช ุงูุฅุตูุงุญ

#### ุงูุฎูุงุฑ A: ุงูุฅุจูุงุก ุนูู taearif.com (ููุตู ุจู)

**ุงูุณุจุจ:** ุงูููุฏ ุงููุนูู ูุณุชุฎุฏู `taearif.com` ุจุงููุนู

```bash
# ุงูุฎุทูุฉ 1: ุชุญุฏูุซ ุงูุชูุซูู
```

**ุงูููู:** `docs/ANALYTICS_DOCUMENTATION.json`

ุงุจุญุซ ูุงุณุชุจุฏู:
- `"mandhoor.com"` โ `"taearif.com"`
- `"hey.mandhoor.com"` โ `"hey.taearif.com"`
- `"tenant1.mandhoor.com"` โ `"tenant1.taearif.com"`
- `".mandhoor.com"` โ `".taearif.com"`

```json
// ูุจู:
"NEXT_PUBLIC_PRODUCTION_DOMAIN": "Production domain for tenant subdomains (mandhoor.com)"

// ุจุนุฏ:
"NEXT_PUBLIC_PRODUCTION_DOMAIN": "Production domain for tenant subdomains (taearif.com)"
```

```bash
# ุงูุฎุทูุฉ 2: ุชุญุฏูุซ ุงูุชุนูููุงุช ูู ุงูููุฏ
```

**ุงูููู:** `lib/ga4-tracking.ts`

```typescript
// ุงูุณุทุฑ 109 - ูุจู:
// For production: tenant1.mandhoor.com -> tenant1

// ุจุนุฏ:
// For production: tenant1.taearif.com -> tenant1
```

**ุงูููู:** `components/GA4Provider.tsx`

ูุง ููุฌุฏ ุชุบููุฑ - ุงูููุฏ ุตุญูุญ

```bash
# ุงูุฎุทูุฉ 3: ุงูุชุญูู ูู env.txt
```

**ุงูููู:** `env.txt`

ุชุฃูุฏ ูู:
```env
NEXT_PUBLIC_PRODUCTION_DOMAIN=taearif.com  โ
```

#### ุงูุฎูุงุฑ B: ุงูุชุญููู ุฅูู mandhoor.com

**ุงูุณุจุจ:** ุฅุฐุง ููุช ุชุฑูุฏ ุงุณุชุฎุฏุงู `mandhoor.com` ุจุฏูุงู ูู `taearif.com`

```bash
# ุงูุฎุทูุฉ 1: ุชุญุฏูุซ env.txt
```

```env
# ูุจู:
NEXT_PUBLIC_PRODUCTION_DOMAIN=taearif.com

# ุจุนุฏ:
NEXT_PUBLIC_PRODUCTION_DOMAIN=mandhoor.com
```

```bash
# ุงูุฎุทูุฉ 2: ุชุญุฏูุซ ุฌููุน ุงูู URLs
```

ุชุฃูุฏ ูู ุชุญุฏูุซ:
- DNS settings
- SSL certificates
- Backend configurations

### โ๏ธ ุงูุชุญูู ูู ุงููุฌุงุญ

```bash
# 1. ุงุจุญุซ ุนู ุฃู ุฐูุฑ ูุชุจูู ูู domain ุงููุฏูู
grep -r "mandhoor.com" .
# ุฃู
grep -r "taearif.com" .

# 2. ุชุฃูุฏ ูู ุฃู ุงููุชุงุฆุฌ ูุชุณูุฉ
```

---

## ุงูุฅุตูุงุญ #2: ุชูุญูุฏ GTM Container ID

### ๐ฏ ุงููุฏู
ุงุณุชุฎุฏุงู GTM Container ID ูุงุญุฏ ููุท ูู ุฌููุน ุงููููุงุช

### ๐ ุงูุฃููููุฉ
โ๏ธโ๏ธโ๏ธ **ุญุฑุฌุฉ - ููุฑูุฉ**

### ๐ ุงููููุงุช ุงููุชุฃุซุฑุฉ
1. `env.txt`
2. `components/GTMProvider.tsx`
3. `components/GTMProvider2.tsx`
4. `app/layout.tsx`
5. `app/dashboard/layout.tsx`
6. `lib/gtm.ts`
7. `docs/ANALYTICS_DOCUMENTATION.json`

### ๐ ุงูุญุงูุฉ ุงูุญุงููุฉ

| ุงูููู | ุงูู ID ุงููุณุชุฎุฏู |
|-------|------------------|
| env.txt | GTM-KS62NNTG |
| GTMProvider.tsx | GTM-KS62NNTG (ูู env) |
| GTMProvider2.tsx | GTM-KBL37C9T (ุงูุชุฑุงุถู) |
| app/layout.tsx | GTM-KBL37C9T (ูุจุงุดุฑ) |
| app/dashboard/layout.tsx | GTM-KBL37C9T (ูุจุงุดุฑ) |
| ุงูุชูุซูู | GTM-KBL37C9T |

### โ ุฎุทูุงุช ุงูุฅุตูุงุญ

#### ูุฑุงุฑ: ุฃู Container ุชุฑูุฏ ุงุณุชุฎุฏุงููุ

**ุงูุญุต ูู Google Tag Manager:**
1. ุชุณุฌูู ุงูุฏุฎูู ูู: https://tagmanager.google.com/
2. ุชุญูู ูู Containers ุงูููุฌูุฏุฉ
3. ูุฑุฑ ุฃูููุง ูุดุท ููุญุชูู ุนูู Tags ุงูุตุญูุญุฉ

#### ุงูุฎูุงุฑ A: ุงุณุชุฎุฏุงู GTM-KBL37C9T (ููุตู ุจู - ูุทุงุจู ุงูุชูุซูู)

```bash
# ุงูุฎุทูุฉ 1: ุชุญุฏูุซ env.txt
```

**ุงูููู:** `env.txt`

```env
# ูุจู:
NEXT_PUBLIC_GTM_ID=GTM-KS62NNTG

# ุจุนุฏ:
NEXT_PUBLIC_GTM_ID=GTM-KBL37C9T
```

```bash
# ุงูุฎุทูุฉ 2: ูุง ุชุญุชุงุฌ ูุชุนุฏูู ุงููููุงุช ุงูุฃุฎุฑู
```

ุงููููุงุช ุงูุชุงููุฉ ุณุชุณุชุฎุฏู GTM-KBL37C9T ุชููุงุฆูุงู:
- โ `components/GTMProvider.tsx` - ุณููุฑุฃ ูู env
- โ `lib/gtm.ts` - ุณููุฑุฃ ูู env
- โ `components/GTMProvider2.tsx` - ุงูุชุฑุงุถู GTM-KBL37C9T
- โ `app/layout.tsx` - ููุซุจุช GTM-KBL37C9T
- โ `app/dashboard/layout.tsx` - ููุซุจุช GTM-KBL37C9T

#### ุงูุฎูุงุฑ B: ุงุณุชุฎุฏุงู GTM-KS62NNTG

```bash
# ุงูุฎุทูุฉ 1: env.txt ุตุญูุญ - ูุง ุชุนุฏูู
```

```bash
# ุงูุฎุทูุฉ 2: ุชุญุฏูุซ GTMProvider2.tsx
```

**ุงูููู:** `components/GTMProvider2.tsx`

```typescript
// ุงูุณุทุฑ 45 - ูุจู:
})(window,document,'script','dataLayer','${containerId || "GTM-KBL37C9T"}');

// ุจุนุฏ:
})(window,document,'script','dataLayer','${containerId || "GTM-KS62NNTG"}');
```

```bash
# ุงูุฎุทูุฉ 3: ุชุญุฏูุซ app/layout.tsx
```

**ุงูููู:** `app/layout.tsx`

```typescript
// ุงูุณุทุฑ 146 - ูุจู:
})(window,document,'script','dataLayer','GTM-KBL37C9T');

// ุจุนุฏ:
})(window,document,'script','dataLayer','GTM-KS62NNTG');
```

ุฃู ุงุณุชุฎุฏู ุงููุชุบูุฑ:

```typescript
// ุฃูุถู:
})(window,document,'script','dataLayer','${process.env.NEXT_PUBLIC_GTM_ID || "GTM-KS62NNTG"}');
```

```bash
# ุงูุฎุทูุฉ 4: ุชุญุฏูุซ app/dashboard/layout.tsx
```

**ุงูููู:** `app/dashboard/layout.tsx`

```typescript
// ุงูุณุทุฑ 138 - ูุจู:
<GTMProvider containerId="GTM-KBL37C9T">

// ุจุนุฏ:
<GTMProvider containerId="GTM-KS62NNTG">
```

ุฃู ุงุณุชุฎุฏู ุงููุชุบูุฑ:

```typescript
// ุฃูุถู:
<GTMProvider containerId={process.env.NEXT_PUBLIC_GTM_ID || "GTM-KS62NNTG"}>
```

```bash
# ุงูุฎุทูุฉ 5: ุชุญุฏูุซ ุงูุชูุซูู
```

**ุงูููู:** `docs/ANALYTICS_DOCUMENTATION.json`

ุงุจุญุซ ูุงุณุชุจุฏู:
- `"GTM-KBL37C9T"` โ `"GTM-KS62NNTG"`

### โ๏ธ ุงูุชุญูู ูู ุงููุฌุงุญ

```bash
# ุงุจุญุซ ุนู ุฌููุน ุงูู GTM IDs
grep -r "GTM-" . --include="*.tsx" --include="*.ts" --include="*.json" --include="*.txt"

# ุชุฃูุฏ ูู ุฃู ุงููุชูุฌุฉ ุชุญุชูู ุนูู ID ูุงุญุฏ ููุท
```

---

## ุงูุฅุตูุงุญ #3: ุฅุฒุงูุฉ GTM ูู Tenant Pages

### ๐ฏ ุงููุฏู
ุฅุฒุงูุฉ `<GTMProvider>` ูู ุฌููุน tenant wrappers ูุฅุจูุงุก `<GA4Provider>` ููุท

### ๐ ุงูุฃููููุฉ
โ๏ธโ๏ธโ๏ธ **ุญุฑุฌุฉ - ููุฑูุฉ**

### ๐ ุงููููุงุช ุงููุชุฃุซุฑุฉ
1. `app/HomePageWrapper.tsx`
2. `app/TenantPageWrapper.tsx`
3. `app/property/[id]/PropertyPageWrapper.tsx`
4. `app/project/[id]/ProjectPageWrapper.tsx`

### ๐ ุงูุณุจุจ

ุงูุชูุซูู ูููู ุจูุถูุญ:
> "GA4 and GTM NEVER work together on the same page"
> "Tenant subdomains use ONLY GA4, NEVER GTM"

ููู ุงูููุฏ ุงูุญุงูู ูุณุชุฎุฏู ุงูุงุซููู ูุนุงูุ ููุง ูุคุฏู ุฅูู:
- โ ุชุชุจุน ูุฒุฏูุฌ
- โ ุจูุงูุงุช ููุฑุฑุฉ
- โ ุฃุฏุงุก ุฃุจุทุฃ
- โ confusion ูู ุงูุชุญูููุงุช

### โ ุฎุทูุงุช ุงูุฅุตูุงุญ

#### ุงูููู #1: app/HomePageWrapper.tsx

**ูุจู:**

```typescript
return (
  <GTMProvider>          // โ ุงุญุฐู ูุฐุง
    <GA4Provider tenantId={tenantId}>
      <I18nProvider>
        {/* ... content ... */}
      </I18nProvider>
    </GA4Provider>
  </GTMProvider>          // โ ุงุญุฐู ูุฐุง
);
```

**ุจุนุฏ:**

```typescript
return (
  <GA4Provider tenantId={tenantId}>
    <I18nProvider>
      {/* ... content ... */}
    </I18nProvider>
  </GA4Provider>
);
```

**ุฃูุถุงู ุงุญุฐู import GTMProvider:**

```typescript
// ูุจู:
import GTMProvider from "@/components/GTMProvider";  // โ ุงุญุฐู

// ุจุนุฏ:
// ุชู ุญุฐู ุงูุณุทุฑ
```

#### ุงูููู #2: app/TenantPageWrapper.tsx

**ุงููููุน:** ุงูุณุทุฑ 280-350

**ูุจู:**

```typescript
return (
  <GTMProvider>          // โ ุงุญุฐู
    <GA4Provider tenantId={tenantId}>
      <I18nProvider>
        {/* ... */}
      </I18nProvider>
    </GA4Provider>
  </GTMProvider>          // โ ุงุญุฐู
);
```

**ุจุนุฏ:**

```typescript
return (
  <GA4Provider tenantId={tenantId}>
    <I18nProvider>
      {/* ... */}
    </I18nProvider>
  </GA4Provider>
);
```

**ุงุญุฐู import:**

```typescript
// ุงุญุฐู:
import GTMProvider from "@/components/GTMProvider";
```

#### ุงูููู #3: app/property/[id]/PropertyPageWrapper.tsx

**ุงููููุน:** ุงูุณุทุฑ 52-66

**ูุจู:**

```typescript
return (
  <GTMProvider>          // โ ุงุญุฐู
    <GA4Provider tenantId={tenantId}>
      <I18nProvider>
        <div className="min-h-screen flex flex-col" dir="rtl">
          <StaticHeader1 />
          <main className="flex-1">
            <PropertyDetail1 propertySlug={propertySlug} />
          </main>
          <StaticFooter1 />
        </div>
      </I18nProvider>
    </GA4Provider>
  </GTMProvider>          // โ ุงุญุฐู
);
```

**ุจุนุฏ:**

```typescript
return (
  <GA4Provider tenantId={tenantId}>
    <I18nProvider>
      <div className="min-h-screen flex flex-col" dir="rtl">
        <StaticHeader1 />
        <main className="flex-1">
          <PropertyDetail1 propertySlug={propertySlug} />
        </main>
        <StaticFooter1 />
      </div>
    </I18nProvider>
  </GA4Provider>
);
```

**ุงุญุฐู import:**

```typescript
// ุงูุณุทุฑ 10 - ุงุญุฐู:
import GTMProvider from "@/components/GTMProvider";
```

#### ุงูููู #4: app/project/[id]/ProjectPageWrapper.tsx

**ุงููููุน:** ุงูุณุทุฑ 48-62

**ูุจู:**

```typescript
return (
  <GTMProvider>          // โ ุงุญุฐู
    <GA4Provider tenantId={tenantId}>
      <I18nProvider>
        <div className="min-h-screen flex flex-col" dir="rtl">
          <StaticHeader1 />
          <main className="flex-1">
            <ProjectDetail projectSlug={projectSlug} />
          </main>
          <StaticFooter1 />
        </div>
      </I18nProvider>
    </GA4Provider>
  </GTMProvider>          // โ ุงุญุฐู
);
```

**ุจุนุฏ:**

```typescript
return (
  <GA4Provider tenantId={tenantId}>
    <I18nProvider>
      <div className="min-h-screen flex flex-col" dir="rtl">
        <StaticHeader1 />
        <main className="flex-1">
          <ProjectDetail projectSlug={projectSlug} />
        </main>
        <StaticFooter1 />
      </div>
    </I18nProvider>
  </GA4Provider>
);
```

**ุงุญุฐู import:**

```typescript
// ุงูุณุทุฑ 10 - ุงุญุฐู:
import GTMProvider from "@/components/GTMProvider";
```

### โ๏ธ ุงูุชุญูู ูู ุงููุฌุงุญ

```bash
# 1. ุงุจุญุซ ุนู ุฃู ุงุณุชุฎุฏุงู ูุชุจูู ูู GTMProvider ูู tenant wrappers
grep -n "GTMProvider" app/HomePageWrapper.tsx
grep -n "GTMProvider" app/TenantPageWrapper.tsx
grep -n "GTMProvider" app/property/[id]/PropertyPageWrapper.tsx
grep -n "GTMProvider" app/project/[id]/ProjectPageWrapper.tsx

# ูุฌุจ ุฃูุง ุชุธูุฑ ุฃู ูุชุงุฆุฌ โ

# 2. ุชุฃูุฏ ูู ูุฌูุฏ GA4Provider ููุท
grep -n "GA4Provider" app/HomePageWrapper.tsx
# ูุฌุจ ุฃู ุชุธูุฑ ุงุณุชูุฑุงุฏ ูุงุณุชุฎุฏุงู GA4Provider ููุท โ
```

### ๐ฏ ุงููุชูุฌุฉ ุงููุชููุนุฉ

**ุจุนุฏ ุงูุฅุตูุงุญ:**

| ุงูุตูุญุฉ | GA4 | GTM |
|--------|-----|-----|
| Tenant Homepage | โ | โ |
| Tenant Custom Page | โ | โ |
| Property Page | โ | โ |
| Project Page | โ | โ |
| Dashboard | โ | โ |
| Admin/Public Pages | โ | โ |

---

## ุงูุฅุตูุงุญ #4: ุฌุนู Cookie Domain ุฏููุงูููู

### ๐ฏ ุงููุฏู
ุฌุนู `cookie_domain` ููุฑุฃ ูู ูุชุบูุฑุงุช ุงูุจูุฆุฉ ุจุฏูุงู ูู ุฃู ูููู ููุซุจุช

### ๐ ุงูุฃููููุฉ
โ๏ธโ๏ธ **ุนุงููุฉ - ููุฑูุฉ**

### ๐ ุงููููุงุช ุงููุชุฃุซุฑุฉ
1. `lib/ga4-tracking.ts`

### ๐ ุงูุญุงูุฉ ุงูุญุงููุฉ

**ุงูููู:** `lib/ga4-tracking.ts` (ุงูุณุทุฑ 47-55)

```typescript
window.gtag("config", ga4Id, {
  custom_map: {
    dimension1: "tenant_id",
  },
  cookie_domain: ".mandhoor.com",  // โ ููุซุจุช!
  transport_type: "beacon",
});
```

### โ ุฎุทูุงุช ุงูุฅุตูุงุญ

**ุงูููู:** `lib/ga4-tracking.ts`

**ูุจู:**

```typescript
// ุงูุณุทุฑ 47-55
window.gtag("config", ga4Id, {
  custom_map: {
    dimension1: "tenant_id",
  },
  // Set cookie domain for wildcard
  cookie_domain: ".mandhoor.com",  // โ
  // Set transport type
  transport_type: "beacon",
});
```

**ุจุนุฏ:**

```typescript
// ุงูุณุทุฑ 47-56
const productionDomain = process.env.NEXT_PUBLIC_PRODUCTION_DOMAIN || "taearif.com";

window.gtag("config", ga4Id, {
  custom_map: {
    dimension1: "tenant_id",
  },
  // Set cookie domain for wildcard - dynamic from env
  cookie_domain: `.${productionDomain}`,  // โ ุฏููุงูููู
  // Set transport type
  transport_type: "beacon",
});
```

### โ๏ธ ุงูุชุญูู ูู ุงููุฌุงุญ

```bash
# 1. ุชุฃูุฏ ูู ุฃู cookie_domain ูู ูุนุฏ ููุซุจุช
grep -n "cookie_domain" lib/ga4-tracking.ts

# ูุฌุจ ุฃู ุชุธูุฑ:
# cookie_domain: `.${productionDomain}`,

# 2. ุงุฎุชุจุฑ ูู ุงููุชุตูุญ
# ุงูุชุญ Console ูุดุงูุฏ:
# - ูุฌุจ ุฃู ูุธูุฑ cookie_domain: ".taearif.com" (ุฃู domain ุขุฎุฑ ูู env)
```

---

## ุฅุตูุงุญุงุช ุฅุถุงููุฉ

### 1. ุชุญุฏูุซ ุงูุชุนูููุงุช ุงููุถููุฉ

**ุงููููุงุช:**
- `lib/ga4-tracking.ts`
- `components/GA4Provider.tsx`

**ุงูุฎุทูุงุช:**

```typescript
// ุงุจุญุซ ุนู ุฌููุน ุงูุชุนูููุงุช ุงูุชู ุชุฐูุฑ mandhoor.com
// ูุงุณุชุจุฏููุง ุจู taearif.com (ุฃู domain ุงููุนุชูุฏ)

// ูุซุงู ูู lib/ga4-tracking.ts:

// ูุจู:
// For production: tenant1.mandhoor.com -> tenant1

// ุจุนุฏ:
// For production: tenant1.taearif.com -> tenant1
```

### 2. NEXT_PUBLIC_GA4_LEGACY_ID

**ุงููุฑุงุฑ:** ูู ุชุณุชุฎุฏู Legacy GA4 IDุ

#### ุงูุฎูุงุฑ A: ุฅุฐุง ููุช ุชุณุชุฎุฏูู

**ุฃุถู ุฅูู:** `env.txt`

```env
NEXT_PUBLIC_GA4_LEGACY_ID=G-RVFKM2F9ZN
```

#### ุงูุฎูุงุฑ B: ุฅุฐุง ูู ุชุนุฏ ุชุณุชุฎุฏูู

**ุงุญุฐู ูู:** `docs/ANALYTICS_DOCUMENTATION.json`

```json
// ุงุญุฐู:
"NEXT_PUBLIC_GA4_LEGACY_ID": "Legacy GA4 measurement ID (G-RVFKM2F9ZN)",
```

### 3. ุชุญุฏูุซ lastUpdated

**ุงูููู:** `docs/ANALYTICS_DOCUMENTATION.json`

```json
// ุงูุณุทุฑ 4 - ูุจู:
"lastUpdated": "December 2024",

// ุจุนุฏ:
"lastUpdated": "October 2025",
```

### 4. ุชูุซูู GTMProvider2.tsx

**ุงูููู:** `docs/ANALYTICS_DOCUMENTATION.json`

**ุฃุถู ูู ูุณู components:**

```json
"components": [
  "GA4Provider - React wrapper for GA4 initialization",
  "GTMProvider - Google Tag Manager integration (primary)",
  "GTMProvider2 - Alternative GTM provider with custom container ID support",
  "ga4-tracking.ts - Core GA4 tracking functions",
  "gtm.ts - GTM utility functions",
  "middleware.ts - Subdomain detection and tenant routing"
]
```

---

## ๐ ุฌุฏูู ุงูุฅุตูุงุญุงุช ุงููุงูู

| # | ุงูุฅุตูุงุญ | ุงููููุงุช | ุงูุฃููููุฉ | ุงูููุช ุงูููุฏุฑ |
|---|---------|---------|----------|---------------|
| 1 | ุชูุญูุฏ Domain | 5 ูููุงุช | ุญุฑุฌุฉ | 15 ุฏูููุฉ |
| 2 | ุชูุญูุฏ GTM ID | 7 ูููุงุช | ุญุฑุฌุฉ | 20 ุฏูููุฉ |
| 3 | ุฅุฒุงูุฉ GTM ูู Tenant | 4 ูููุงุช | ุญุฑุฌุฉ | 10 ุฏูุงุฆู |
| 4 | Cookie Domain ุฏููุงูููู | 1 ููู | ุนุงููุฉ | 5 ุฏูุงุฆู |
| 5 | ุชุญุฏูุซ ุงูุชุนูููุงุช | 2-3 ูููุงุช | ูุชูุณุทุฉ | 10 ุฏูุงุฆู |
| 6 | GA4_LEGACY_ID | 1-2 ูููุงุช | ูุชูุณุทุฉ | 5 ุฏูุงุฆู |
| 7 | ุชุญุฏูุซ lastUpdated | 1 ููู | ููุฎูุถุฉ | 2 ุฏูููุฉ |
| 8 | ุชูุซูู GTMProvider2 | 1 ููู | ููุฎูุถุฉ | 3 ุฏูุงุฆู |

**ุฅุฌูุงูู ุงูููุช ุงูููุฏุฑ: ~70 ุฏูููุฉ**

---

## โ ูุงุฆูุฉ ุงูุชุญูู ุงูููุงุฆูุฉ

ุจุนุฏ ุชูููุฐ ุฌููุน ุงูุฅุตูุงุญุงุชุ ุชุฃูุฏ ูู:

### 1. ุงูุชููููุงุช

- [ ] ุฌููุน ุงููููุงุช ุชุณุชุฎุฏู ููุณ Domain
- [ ] ุฌููุน ุงููููุงุช ุชุณุชุฎุฏู ููุณ GTM Container ID
- [ ] `cookie_domain` ุฏููุงูููู ูู env
- [ ] ูุชุบูุฑุงุช ุงูุจูุฆุฉ ุตุญูุญุฉ ููุญุฏุซุฉ

### 2. ุงูููุฏ

- [ ] Tenant pages ุชุณุชุฎุฏู GA4 ููุท (ุจุฏูู GTM)
- [ ] Admin/Public pages ุชุณุชุฎุฏู GTM ููุท (ุจุฏูู GA4)
- [ ] ูุง ููุฌุฏ imports ุบูุฑ ูุณุชุฎุฏูุฉ
- [ ] ูุง ุชูุฌุฏ ุฃุฎุทุงุก ูู TypeScript

### 3. ุงูุชูุซูู

- [ ] `ANALYTICS_DOCUMENTATION.json` ูุญุฏุซ
- [ ] ุฌููุน ุงูุฃูุซูุฉ ุชุณุชุฎุฏู Domain ุงูุตุญูุญ
- [ ] `lastUpdated` ูุญุฏุซ
- [ ] ุฌููุน ุงูููููุงุช ููุซูุฉ

### 4. ุงูุงุฎุชุจุงุฑ

- [ ] ุงุฎุชุจุฑ tenant subdomain (ูุซู: `test.taearif.com`)
- [ ] ุชุญูู ูู Console ููู GA4 messages
- [ ] ุชุญูู ูู GTM ูู Dashboard
- [ ] ุชุญูู ูู ุนุฏู ูุฌูุฏ errors ูู Console

---

## ๐ ุงูุจุฏุก ูู ุงูุชูููุฐ

**ุงูุฎุทูุฉ ุงูุฃููู:** ูุฑุฑ Domain ู GTM ID ุงููุนุชูุฏ

```bash
# 1. Domain:
# ูู ุชุฑูุฏ: mandhoor.com ุฃู taearif.comุ

# 2. GTM ID:
# ูู ุชุฑูุฏ: GTM-KS62NNTG ุฃู GTM-KBL37C9Tุ

# 3. ุงูุชุจ ูุฑุงุฑู:
PRODUCTION_DOMAIN="taearif.com"       # ุฃู mandhoor.com
GTM_CONTAINER_ID="GTM-KBL37C9T"       # ุฃู GTM-KS62NNTG
```

**ุงูุฎุทูุฉ ุงูุซุงููุฉ:** ูููุฐ ุงูุฅุตูุงุญุงุช ุจุงูุชุฑุชูุจ

1. ุงุจุฏุฃ ุจุงูุฅุตูุงุญุงุช ุงูุญุฑุฌุฉ (1-4)
2. ุซู ุงูุฅุตูุงุญุงุช ุงููุชูุณุทุฉ (5-6)
3. ุฃุฎูุฑุงู ุงูุฅุตูุงุญุงุช ุงูููุฎูุถุฉ (7-8)

**ุงูุฎุทูุฉ ุงูุซุงูุซุฉ:** ุงุฎุชุจุฑ ุจุนุฏ ูู ุฅุตูุงุญ

```bash
# ุจุนุฏ ูู ุชุนุฏูู:
npm run build
npm run dev

# ุชุญูู ูู:
# - ูุง ุชูุฌุฏ ุฃุฎุทุงุก ูู Build
# - ุงูุชุทุจูู ูุนูู ุจุดูู ุตุญูุญ
# - Console ูุง ูุญุชูู ุนูู errors
```

---

## ๐ ููุงุณุชูุณุงุฑ

ุฅุฐุง ูุงุฌูุช ุฃู ูุดุงูู ุฃุซูุงุก ุงูุชูููุฐุ ุฑุงุฌุน:
- ุงูุชูุฑูุฑ ุงูุชูุตููู: `ุชูุฑูุฑ_ุชุญููู_ANALYTICS_DOCUMENTATION.md`
- ุงูุจูุงูุงุช JSON: `ุชุญููู_ANALYTICS_ูุชุงุฆุฌ.json`

---

**ุชุงุฑูุฎ ุงูุฅุนุฏุงุฏ:** 25 ุฃูุชูุจุฑ 2025
**ุงูุญุงูุฉ:** ุฌุงูุฒ ููุชูููุฐ โ
**ุงูููุนูุฏ:** AI Code Analysis System

---


